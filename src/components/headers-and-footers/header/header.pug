include /common/logo/logo
include /form-elements/button/button

mixin header(options)
  -
    const {
      isLoggedIn,
      userName,
    } = options

  header.header(
    class=isLoggedIn ? "header_logged-in" : ""
  )
    .header__container
      .header__logo
        +logo-full
      .header__menu-opener Меню
      ul.header__menu
        -
          const menuList = [
            { title: "О нас", isExpandable: false, isActive: true },
            { title: "Услуги", isExpandable: true,
              submenu: [
                { title: "Первая услуга" },
                { title: "Услуга номер два" },
                { title: "Услуга под номером три" },
              ],
            },
            { title: "Вакансии", isExpandable: false },
            { title: "Новости", isExpandable: false },
            { title: "Соглашения", isExpandable: true,
              submenu: [
                { title: "Лицензия на предоставление услуг" },
                { title: "Пользовательское соглашение" },
                { title: "Политика конфиденциальности" },
              ],
            },
          ]
        each item in menuList
          li.header__menu-item(
            class=item.isActive ? "header__menu-item_active" : ""
            class=item.isExpandable ? "header__menu-item_expandable" : ""
          )
            a.header__menu-link(href=item.link || "#")= item.title
            if item.submenu
              ul.header__submenu
                each subitem in item.submenu
                  li.header__subitem
                    a.header__sublink(href=subitem.link || "#")= subitem.title

      if isLoggedIn
        .header__user-name= userName
      else
        span.header__buttons-shower.material-icons account_box
        .header__buttons
          .header__login-button
            +button_bordered({ caption: 'Войти', isSmall: true })
          .header__register-button
            +button_filled({ caption: 'Зарегистрироваться', isSmall: true })